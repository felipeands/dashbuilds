<div class="board" *ngIf="board">

  <div [class]="boardStatuses[board.status]" [class.active]="board.active">

    <header (click)="onClickBoard()">
      <div><span>{{board.id}}</span></div>
      <div>{{board.owner}}</div>
      <div>{{board.startDateTime}}</div>
      <div>{{boardStatuses[board.status]}}</div>

      <div [class.isVisible]="!board.active">
        <div *ngIf="board.data.metric">
          <div class="preview" [class]="boardStatuses[board.data.metric.status]"></div>
        </div>
      </div>
      <div [class.isVisible]="!board.active">
        <div *ngIf="board.data.version">
          <div class="preview" [class]="boardStatuses[board.data.version.status]"></div>
        </div>
      </div>
      <div [class.isVisible]="!board.active">
        <div *ngIf="board.data.unitTest">
          <div class="preview" [class]="boardStatuses[board.data.unitTest.status]"></div>
        </div>
      </div>
      <div [class.isVisible]="!board.active">
        <div *ngIf="board.data.functionalTest">
          <div class="preview" [class]="boardStatuses[board.data.functionalTest.status]"></div>
        </div>
      </div>
    </header>

    <div class="widgets" *ngIf="board.active">

      <div class="widget">
        <app-metrics *ngIf="board.data.metric" [data]="board.data.metric" (click)="onDisplayDetails(board.data.metric)"></app-metrics>
      </div>
      <div class="widget">
        <app-versions *ngIf="board.data.version" [data]="board.data.version" (click)="onDisplayDetails(board.data.version)"></app-versions>
      </div>
      <div class="widget">
        <app-unit-tests *ngIf="board.data.unitTest" [data]="board.data.unitTest" (click)="onDisplayDetails(board.data.unitTest)"></app-unit-tests>
      </div>
      <div class="widget">
        <app-functional-tests *ngIf="board.data.functionalTest" [data]="board.data.functionalTest" (click)="onDisplayDetails(board.data.functionalTest)"></app-functional-tests>
      </div>

      <div class="widget">
        <app-results *ngIf="board.status !== boardStatuses.running && board.status !== boardStatuses.waiting" [data]="board"></app-results>
      </div>

    </div>

  </div>

</div>